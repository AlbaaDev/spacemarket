<form [formGroup]="signUpForm" (ngSubmit)="onSubmit()" class="w-50 container">
    <h1 class="text-center">Create a new account</h1>
    <div class="d-flex flex-column gap-3">
        <mat-form-field>
            <mat-label for="email">Email</mat-label>    
            <input type="email" id="email" name="email" formControlName="email" matInput />
            @if(email?.hasError('required') && email?.invalid && (email?.dirty || email?.touched)) {
                <mat-error>
                    Email is required
                </mat-error>
            }
            @if(email?.hasError('email') && email?.invalid && (email?.dirty || email?.touched)) {
                <mat-error>
                    Email is not valid
                </mat-error>
            }
        </mat-form-field>
       
        <mat-form-field>
            <mat-label for="password">Password</mat-label>    
            <input type="password" id="password" name="password" formControlName="password" matInput autocomplete="off" />
            @if(password?.hasError('required') && password?.invalid && (password?.dirty || password?.touched)) {
                <mat-error>
                    Password is required
                </mat-error>
            }
            @if(password?.hasError('minlength') && password?.invalid && (password?.dirty || password?.touched)) {
                <mat-error>
                    Password must be at least 8 characters long
                </mat-error>
            }
        </mat-form-field>
       
        <mat-form-field>
            <mat-label for="firstName">First name</mat-label>    
            <input type="text" id="firstName" name="firstName" formControlName="firstName" matInput />
            @if(firstName?.hasError('required') && firstName?.invalid && (firstName?.dirty || firstName?.touched)) {
                <mat-error>
                    First name is required
                </mat-error>
            }
        </mat-form-field>
         
        <mat-form-field>
            <mat-label for="lastName">Last name</mat-label>    
            <input type="text" id="lastName" name="lastName" formControlName="lastName" matInput />
            @if(lastName?.hasError('required') && lastName?.invalid && (lastName?.dirty || lastName?.touched)) {
                <mat-error>
                    Last name is required
                </mat-error>
            }
        </mat-form-field>

        <mat-form-field>
            <mat-label for="phoneNumber">Phone number</mat-label>
            <input type="text" id="phoneNumber" name="phoneNumber" formControlName="phoneNumber" matInput />
            @if(phoneNumber?.hasError('required') && phoneNumber?.invalid && (phoneNumber?.dirty || phoneNumber?.touched)) {
            <mat-error>
                Phone number is required
            </mat-error>
            }
        </mat-form-field>
        
    </div>
    <button mat-raised-button type="submit"  color="primary" [disabled]="signUpForm.invalid">Sign up</button>
    @if (errorMessage !== null) {
        <mat-error class="mt-4">{{errorMessage}}</mat-error>
    } 
</form>
